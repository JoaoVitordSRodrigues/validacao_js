<!DOCTYPE html>

<html>

    <head>

        <title>Formulário com Label de Erro Adicional</title>

        <style>

            .erro {

                color: red;

                display: none;

            }

        </style>

    </head>

    <body>

        <h1>Formulário de Cadastro com Validação</h1>

        <form method="post" onsubmit="return validacao();">

            <label for="nome">Nome:</label>

            <input type="text" id="nome" name="nome" required>

            <br>

            <label id="erroNomeLabel" class="erro"></label>

            <br>



            <label for="endereco">Endereço:</label>

            <input type="text" id="endereco" name="endereco" required>

            <br>

            <label id="erroEnderecoLabel" class="erro"></label>

            <br>



            <label for="bairro">Bairro:</label>

            <input type="text" id="bairro" name="bairro" required>

            <br>

            <label id="erroBairroLabel" class="erro"></label>

            <br>





            <label for="cep">CEP:</label>

            <input type="text" id="cep" name="cep" required>

            <br>

            <label id="erroCEPLabel" class="erro"></label>

            <br>





            <label for="cidade">Cidade:</label>

            <input type="text" id="cidade" name="cidade" required>

            <br>

            <label id="erroCidadeLabel" class="erro"></label>

            <br>



            <label for="estado">Estado:</label>

            <input type="text" id="estado" name="estado" required>

            <br>

            <label id="erroEstadoLabel" class="erro"></label>

            <br>



            <label for="telefoneFixo">Telefone Fixo:</label>

            <input type="tel" id="telefoneFixo" name="telefoneFixo" required>

            <br>

            <label id="erroTelFixoLabel" class="erro"></label>

            <br>





            <label for="celular">Celular:</label>

            <input type="tel" id="celular" name="celular" required>

            <br>

            <label id="erroCelularLabel" class="erro"></label>

            <br>



            <label for="rg">RG:</label>

            <input type="text" id="rg" name="rg" required>

            <br>

            <label id="erroRGLabel" class="erro"></label>

            <br>



            <label for="cpf">CPF:</label>

            <input type="text" id="cpf" name="cpf" required>

            <br>

            <label id="erroCPFLabel" class="erro"></label>

            <br>



            <input type="submit" value="Enviar">

        </form>

        <script>

            function ValidaCPF(cpf) {

                cpf = cpf.replace(/\D/g, ''); // Remove caracteres não numéricos

                if (cpf.length !== 11) {

                    return false; // O CPF deve ter 11 dígitos

                }



                // Verificação dos dígitos verificadores

                var soma = 0;

                var j = 10;

                var dv1, dv2;



                for (var i = 0; i < 9; i++) {

                    soma += parseInt(cpf.charAt(i)) * j;

                    j--;

                }



                var resto = soma % 11;



                if (resto < 2) {

                    dv1 = 0;

                } else {

                    dv1 = 11 - resto;

                }



                soma = 0;

                j = 11;



                for (var i = 0; i < 10; i++) {

                    soma += parseInt(cpf.charAt(i)) * j;

                    j--;

                }



                resto = soma % 11;



                if (resto < 2) {

                    dv2 = 0;

                } else {

                    dv2 = 11 - resto;

                }



                return parseInt(cpf.charAt(9)) === dv1 && parseInt(cpf.charAt(10)) === dv2;

            }



            function validacao() {

                //variaveis com dados inseridos na caixa de texto

                var nome = document.getElementById("nome").value;

                var endereco = document.getElementById("endereco").value;

                var bairro = document.getElementById("bairro").value;

                var cep = document.getElementById("cep").value

                var cidade = document.getElementById("cidade").value;

                var estado = document.getElementById("estado").value;

                var telFixo = document.getElementById("telefoneFixo").value;

                var celular = document.getElementById("celular").value;

                var rg = document.getElementById("rg").value;

                var cpf = document.getElementById("cpf").value;



                //,e

                var erroNomeLabel = document.getElementById('erroNomeLabel');

                var erroNomeLabel = document.getElementById('erroNomeLabel');

                var erroEnderecoLabel = document.getElementById('erroEnderecoLabel');

                var erroBairroLabel = document.getElementById('erroBairroLabel');

                var erroCEPLabel = document.getElementById('erroCEPLabel');

                var erroCidadeLabel = document.getElementById('erroCidadeLabel');

                var erroEstadoLabel = document.getElementById('erroEstadoLabel');

                var erroTelFixoLabel = document.getElementById('erroTelFixoLabel');

                var erroCelularLabel = document.getElementById('erroCelularLabel');

                var erroRGLabel = document.getElementById('erroRGLabel');

                var erroCPFLabel = document.getElementById('erroCPFLabel');



                //Mensagens de erros que serão exibidas 

                erroNomeLabel.textContent = ''; // Limpa o conteúdo da label de erro adicional

                erroEnderecoLabel.textContent = '';

                erroBairroLabel.textContent = '';

                erroCEPLabel.textContent = '';

                erroCidadeLabel.textContent = '';

                erroEstadoLabel.textContent = '';

                erroTelFixoLabel.textContent = '';

                erroCelularLabel.textContent = '';

                erroRGLabel.textContent = '';

                erroCPFLabel.textContent = '';


                var regexLetras = /^[A-Za-z]+$/;

                if(regexLetras.test(nome)){

                    console.log("valido")

                 }else{

                       
                     erroNomeLabel.style.display = 'block';

                    erroNomeLabel.textContent = 'Por favor, não insira números.';     

                        return false;
                        

                 }

                 if(nome.length < 2 ){

                        erroNomeLabel.style.display = 'block';

                        erroNomeLabel.textContent = 'Por favor, preencha este campo de maneira correta.'; 

                        return false;

                 }



                if (endereco.toLowerCase().indexOf("rua") === -1){

                    erroEnderecoLabel.style.display = 'block';

                    erroEnderecoLabel.textContent = "O campo endereço deve conter a palavra 'Rua'.";

                    console.log("O campo endereço deve conter a palavra 'Rua'.");

                    return false;               

                }   



                if(bairro.length < 3 ){

                    erroBairroLabel.style.display = 'block';

                    erroBairroLabel.textContent = 'Por favor, preencha este de maneira correta.'; 

                    return false;

                    

                }



                var formatoCEP = /^\d{5}-\d{3}$/;

                // Teste se o CEP corresponde à expressão regular

                if (formatoCEP.test(cep)) {

                    console.log("CEP válido!"); 

                } else {

                    erroCEPLabel.style.display = 'block';

                    erroCEPLabel.textContent = 'CEP inválido! Preencha nesse formato: 00000-000.';

                    console.log("CEP inválido! Preencha nesse formato: 00000-000.");

                    return false;

                    

                }



                if(cidade.length < 3 ){

                    erroCidadeLabel.style.display = 'block';

                    erroCidadeLabel.textContent = 'Por favor, preencha este de maneira correta.'; 

                    return false;

                }







                var formatoTelFixo =/^\(\d{2}\)\d{4}-\d{4}$/ ;

                // Teste se o CEP corresponde à expressão regular

                if (formatoTelFixo.test(telFixo)) {

                    console.log("Telefone Fixo válido!");

                } else {

                    erroTelFixoLabel.style.display = 'block';

                    erroTelFixoLabel.textContent = 'Telefone Fixo inválido! Preencha nesse formato: (00)0000-0000.';

                    console.log("Telefone Fixo inválido! Preencha nesse formato: (00)0000-0000.");

                    return false;

                }



                var formatoCelular = /^\(\d{2}\)\d{5}-\d{4}$/;


                if (formatoCelular.test(celular)) {

                    console.log("Celular válido!");

                } else {

                    erroCelularLabel.style.display = 'block';

                    erroCelularLabel.textContent = 'Celular inválido! Preencha nesse formato: (00)00000-0000.';

                    console.log("Celular inválido! Preencha nesse formato: (00)00000-0000.");

                    return false;

                }

                
                var cpfValido = ValidaCPF(cpf);

                if (cpfValido) {    

                    console.log("CPF válido!");

                } else {

                    console.log("CPF inválido!");

                    erroCPFLabel.style.display = 'block';

                    erroCPFLabel.textContent = 'CPF inválido!.';    

                    return false;

                

                }
                

                var formatoRG =/^\d{8}-\d{2}$/;

                if (formatoRG.test(rg)) {

                    Console.log("RG válido!");

                } else {

                    erroRGLabel.style.display = 'block';
                    erroRGLabel.textContent = 'RG inválido! Preencha nesse formato:00000000-00'

                    return false;

                }
                
                
                return true;

            }

        </script>

    </body>

</html>

